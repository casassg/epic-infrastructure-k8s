{"paragraphs":[{"text":"%md\n\n# Hurricane lane notebook\n\n- Event: Hurricane Lane\n- Keywords collected: `#hurricanelane #lane Hurricane Lane`\n\n## Configuration\n\nInitial cells are internal configuration for spark to work on this notebook properly. The code is hidden.","user":"anonymous","dateUpdated":"2018-08-24T06:06:53+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Hurricane lane notebook</h1>\n<ul>\n  <li>Event: Hurricane Lane</li>\n  <li>Keywords collected: <code>#hurricanelane #lane Hurricane Lane</code></li>\n</ul>\n<h2>Configuration</h2>\n<p>Initial cells are internal configuration for spark to work on this notebook properly. The code is hidden.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1535088722016_1030181000","id":"20180824-053202_200922855","dateCreated":"2018-08-24T05:32:02+0000","dateStarted":"2018-08-24T06:06:53+0000","dateFinished":"2018-08-24T06:06:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:320"},{"text":"import com.datastax.spark.connector._\nimport org.apache.spark.sql.cassandra._\n\nval rdd = sc.cassandraTable(\"twitter_analytics\", \"tweet\")\n\nrdd.cassandraCount()\n   ","user":"anonymous","dateUpdated":"2018-08-24T06:07:17+0000","config":{"colWidth":4,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false},"editorMode":"ace/mode/scala","editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport com.datastax.spark.connector._\n\nimport org.apache.spark.sql.cassandra._\n\nrdd: com.datastax.spark.connector.rdd.CassandraTableScanRDD[com.datastax.spark.connector.CassandraRow] = CassandraTableScanRDD[4] at RDD at CassandraRDD.scala:15\n\nres3: Long = 2309\n"}]},"apps":[],"jobName":"paragraph_1535082282857_-42355485","id":"20180824-034442_1246131381","dateCreated":"2018-08-24T03:44:42+0000","dateStarted":"2018-08-24T05:20:32+0000","dateFinished":"2018-08-24T05:20:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:321"},{"text":"val df = sqlContext\n  .read\n  .format(\"org.apache.spark.sql.cassandra\")\n  .options(Map( \"table\" -> \"tweet\", \"keyspace\" -> \"twitter_analytics\" )).load()","user":"anonymous","dateUpdated":"2018-08-24T06:07:20+0000","config":{"colWidth":4,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\ndf: org.apache.spark.sql.DataFrame = [id: string, t_id: string, event_kw: string, event_name: string, hashtags: array<string>, media_url: string, t_coordinates: string, t_created_at: timestamp, t_favorite_count: int, t_favorited: boolean, t_geo: string, t_is_a_retweet: boolean, t_lang: string, t_retweet_count: int, t_retweeted: boolean, t_text: string, u_created_at: timestamp, u_description: string, u_favourites_count: int, u_followers_count: int, u_friends_count: int, u_geo_enabled: boolean, u_id: string, u_lang: string, u_listed_count: int, u_location: string, u_name: string, u_screen_name: string, u_statuses_count: int, u_time_zone: string, u_url: string, u_utc_offset: int, um_id: string, um_name: string, um_screen_name: string, urls: array<string>]\n"}]},"apps":[],"jobName":"paragraph_1535087586543_-1160823303","id":"20180824-051306_2132374205","dateCreated":"2018-08-24T05:13:06+0000","dateStarted":"2018-08-24T05:31:03+0000","dateFinished":"2018-08-24T05:31:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:322"},{"text":"import sqlContext.implicits._\n\ndf.registerTempTable(\"tweets\")","user":"anonymous","dateUpdated":"2018-08-24T06:07:23+0000","config":{"colWidth":4,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala","editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"\nimport sqlContext.implicits._\n"}]},"apps":[],"jobName":"paragraph_1535088152992_1180389602","id":"20180824-052232_2003030625","dateCreated":"2018-08-24T05:22:32+0000","dateStarted":"2018-08-24T05:31:07+0000","dateFinished":"2018-08-24T05:31:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:323"},{"text":"%md\n\n# Tweets recollected (grouped in 10 min windows)\n","user":"anonymous","dateUpdated":"2018-08-24T05:53:28+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1535089979536_2032625384","id":"20180824-055259_1642662033","dateCreated":"2018-08-24T05:52:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2541","dateFinished":"2018-08-24T05:53:28+0000","dateStarted":"2018-08-24T05:53:28+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Tweets recollected (grouped in 10 min windows)</h1>\n</div>"}]}},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"lineChart","height":300,"optionOpen":false,"setting":{"lineChart":{"lineWithFocus":false,"forceY":true}},"commonSetting":{},"keys":[{"name":"time","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"num_tweets","index":1,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql","editorHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1535088426668_342004780","id":"20180824-052706_761168362","dateCreated":"2018-08-24T05:27:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:327","text":"%sql\n\nselect round(cast(t_created_at as int) / 600) as time, count(t_id) as num_tweets from tweets \nwhere event_name='hurricane-lane' \ngroup by round(cast(t_created_at as int) / 600)\norder by time desc\n","dateUpdated":"2018-08-24T06:02:56+0000","dateFinished":"2018-08-24T06:03:00+0000","dateStarted":"2018-08-24T06:02:56+0000","results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"time\tnum_tweets\n2558484.0\t159\n2558483.0\t186\n2558482.0\t226\n2558481.0\t192\n2558480.0\t193\n2558479.0\t218\n2558478.0\t260\n2558477.0\t195\n2558476.0\t216\n2558475.0\t191\n2558474.0\t218\n2558473.0\t261\n2558472.0\t322\n2558471.0\t262\n2558470.0\t59\n"}]},"focus":true},{"text":"%md \n\n## How to query table\n\n- Create cell\n- Add `%sql` on top\n- Use database `tweets`\n\nExamples provided below:","user":"anonymous","dateUpdated":"2018-08-24T05:34:35+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h2>How to query table</h2>\n<ul>\n  <li>Create cell</li>\n  <li>Add <code>%sql</code> on top</li>\n  <li>Use database <code>tweets</code></li>\n</ul>\n<p>Examples provided below:</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1535088758613_1619662288","id":"20180824-053238_1566280677","dateCreated":"2018-08-24T05:32:38+0000","dateStarted":"2018-08-24T05:34:35+0000","dateFinished":"2018-08-24T05:34:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:324"},{"text":"%sql\n\nselect * from tweets where event_name='hurricane-lane' limit 1","user":"anonymous","dateUpdated":"2018-08-24T06:03:02+0000","config":{"colWidth":6,"enabled":true,"results":{},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"id\tt_id\tevent_kw\tevent_name\thashtags\tmedia_url\tt_coordinates\tt_created_at\tt_favorite_count\tt_favorited\tt_geo\tt_is_a_retweet\tt_lang\tt_retweet_count\tt_retweeted\tt_text\tu_created_at\tu_description\tu_favourites_count\tu_followers_count\tu_friends_count\tu_geo_enabled\tu_id\tu_lang\tu_listed_count\tu_location\tu_name\tu_screen_name\tu_statuses_count\tu_time_zone\tu_url\tu_utc_offset\tum_id\tum_name\tum_screen_name\turls\n62bec854-a75f-11e8-97e9-0a580a300408\t1032863717090779136\t#hurricanelane, #lane, Hurricane Lane\thurricane-lane\tWrappedArray()\thttps://pbs.twimg.com/media/DlVyuKwU0AAGgoJ.jpg\tNone\t2018-08-24 05:34:34.0\t0\tfalse\tNone\ttrue\ten\t0\tfalse\tRT @HistologyNews: DDRC urges Hawaiians with diabetes to prepare for Hurricane Lane https://t.co/3cHe3nhd68 https://t.co/7X530kmvOK\t2007-05-21 02:20:39.0\tStyle Wolf, Mom & Devoted Fan of All Things Funny.\t18194\t539\t960\ttrue\t6188122\ten\tnull\tStudio City, Los Angeles\tLalaSloatman\theylala\t8786\tnull\thttps://www.ebay.com/usr/findsxlala\tnull\t808681426136760321\tHistology News\tHistologyNews\tWrappedArray(https://t.co/3cHe3nhd68)\n"}]},"apps":[],"jobName":"paragraph_1535088299908_1132862984","id":"20180824-052459_233766985","dateCreated":"2018-08-24T05:24:59+0000","dateStarted":"2018-08-24T06:03:02+0000","dateFinished":"2018-08-24T06:03:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:325"},{"text":"%sql\n\nSelect count(*) as num_tweets from tweets  where event_name='hurricane-lane'","user":"anonymous","dateUpdated":"2018-08-24T06:03:04+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false},"helium":{}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"num_tweets\n3160\n"}]},"apps":[],"jobName":"paragraph_1535088365466_583349610","id":"20180824-052605_1408972474","dateCreated":"2018-08-24T05:26:05+0000","dateStarted":"2018-08-24T06:03:04+0000","dateFinished":"2018-08-24T06:03:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:326"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1535089324213_-1311009479","id":"20180824-054204_894035824","dateCreated":"2018-08-24T05:42:04+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:956"}],"name":"Lane Hurricane","id":"2DMV1TVHA","angularObjects":{"2CGGTUUE4:shared_process":[],"2CKP9T3KU:shared_process":[],"2CGXV3BWP:shared_process":[],"2CK35RX28:shared_process":[],"2CHM4YM1K:shared_process":[],"2CHNEYSRF:shared_process":[],"2CGWWJ24P:shared_process":[],"2CGZFRZAU:shared_process":[],"2CHFE11JR:shared_process":[],"2CGPME4DX:shared_process":[],"2CJ1C8BPU:shared_process":[],"2CGRFGG8Z:shared_process":[],"2CKJCKX93:shared_process":[],"2CG6ZV6GE:shared_process":[],"2CHFEVD8U:shared_process":[],"2CG8GWMKV:shared_process":[],"2CG3337AH:shared_process":[],"2CHQ4BAAD:shared_process":[],"2CHJJDMMB:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{},"checkpoint":{"message":"clean presentation"}}